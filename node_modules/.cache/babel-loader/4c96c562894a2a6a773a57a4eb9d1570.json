{"ast":null,"code":"var _jsxFileName = \"/Users/huy8bit/Desktop/DRIVE/JOB/webchatFE/src/pages/Dashboard/ConversationUser/Message.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { DropdownToggle, DropdownMenu, DropdownItem, UncontrolledDropdown } from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\"; // components\n\nimport LightBox from \"../../../components/LightBox\"; //images\n\nimport imagePlaceholder from \"../../../assets/images/users/profile-placeholder.png\"; // interface\n\n// hooks\nimport { useProfile } from \"../../../hooks\"; // utils\n\nimport { formateDate } from \"../../../utils\";\nimport RepliedMessage from \"./RepliedMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Menu = _ref => {\n  let {\n    onDelete,\n    onReply,\n    onForward\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(UncontrolledDropdown, {\n    className: \"align-self-start message-box-drop\",\n    children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n      className: \"btn btn-toggle\",\n      role: \"button\",\n      tag: \"a\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"ri-more-2-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n      children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n        className: \"d-flex align-items-center justify-content-between\",\n        to: \"#\",\n        onClick: onReply,\n        children: [\"Reply \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-share ms-2 text-muted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n        className: \"d-flex align-items-center justify-content-between\",\n        to: \"#\",\n        onClick: onForward,\n        children: [\"Forward \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-share-alt ms-2 text-muted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n        className: \"d-flex align-items-center justify-content-between\",\n        to: \"#\",\n        children: [\"Copy \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-copy text-muted ms-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n        className: \"d-flex align-items-center justify-content-between\",\n        to: \"#\",\n        children: [\"Bookmark \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-bookmarks text-muted ms-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n        className: \"d-flex align-items-center justify-content-between\",\n        to: \"#\",\n        children: [\"Mark as Unread \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-message-error text-muted ms-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n        className: \"d-flex align-items-center justify-content-between delete-item\",\n        onClick: onDelete,\n        children: [\"Delete \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-trash text-muted ms-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Menu;\n\nconst ImageMoreMenu = _ref2 => {\n  let {\n    onDelete\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-img-link\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-inline mb-0\",\n      children: /*#__PURE__*/_jsxDEV(UncontrolledDropdown, {\n        tag: \"li\",\n        color: \"none\",\n        className: \"list-inline-item dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n          tag: \"a\",\n          role: \"button\",\n          className: \"btn btn-toggle\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bx bx-dots-horizontal-rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n          children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n            className: \" d-flex align-items-center justify-content-between\",\n            to: \"#\",\n            children: [\"Download \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bx bx-download ms-2 text-muted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n            className: \" d-flex align-items-center justify-content-between\",\n            to: \"#\",\n            \"data-bs-toggle\": \"collapse\",\n            \"data-bs-target\": \".replyCollapse\",\n            children: [\"Reply \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bx bx-share ms-2 text-muted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n            className: \" d-flex align-items-center justify-content-between\",\n            to: \"#\",\n            \"data-bs-toggle\": \"modal\",\n            \"data-bs-target\": \".forwardModal\",\n            children: [\"Forward \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bx bx-share-alt ms-2 text-muted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n            className: \" d-flex align-items-center justify-content-between\",\n            to: \"#\",\n            children: [\"Bookmark \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bx bx-bookmarks text-muted ms-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n            className: \" d-flex align-items-center justify-content-between delete-item\",\n            to: \"#\",\n            onClick: onDelete,\n            children: [\"Delete \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bx bx-trash ms-2 text-muted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ImageMoreMenu;\n\nconst Image = _ref3 => {\n  let {\n    image,\n    onImageClick,\n    index,\n    onDeleteImg\n  } = _ref3;\n\n  const onDelete = () => {\n    onDeleteImg(image.id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-img-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"popup-img d-inline-block\",\n        to: \"#\",\n        onClick: () => onImageClick(index),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image.downloadLink,\n          alt: \"\",\n          className: \"rounded border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageMoreMenu, {\n      onDelete: onDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = Image;\n\nconst Images = _ref4 => {\n  _s();\n\n  let {\n    images,\n    onDeleteImg\n  } = _ref4;\n  const [isOpen, setIsOpen] = useState(false);\n  const [selected, setSelected] = useState(0);\n\n  const onImageClick = id => {\n    setSelected(id);\n    setIsOpen(true);\n  };\n\n  const onClose = () => {\n    setIsOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-img mb-0\",\n      children: (images || []).map((image, key) => /*#__PURE__*/_jsxDEV(Image, {\n        image: image,\n        index: key,\n        onImageClick: onImageClick,\n        onDeleteImg: onDeleteImg\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(LightBox, {\n      isOpen: isOpen,\n      images: images,\n      onClose: onClose,\n      defaultIdx: selected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Images, \"FIsbu9I+k5DCumZH3uOR35oWquc=\");\n\n_c4 = Images;\n\nconst Attachments = _ref5 => {\n  let {\n    attachments\n  } = _ref5;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: (attachments || []).map((attachment, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames(\"p-3\", \"border-primary\", \"border rounded-3\", {\n        \"mt-2\": key !== 0\n      }),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center attached-file\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 avatar-sm me-3 ms-0 attached-file-avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-title bg-soft-primary text-primary rounded-circle font-size-20\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"ri-attachment-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow-1 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-size-14 mb-1\",\n              children: attachment.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted text-truncate font-size-13 mb-0\",\n              children: attachment.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 ms-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-2 font-size-20 d-flex align-items-start\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: attachment.downloadLink ? attachment.downloadLink : \"#\",\n                className: \"text-muted\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bx bxs-download\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this)\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n};\n\n_c5 = Attachments;\n\nconst Typing = () => {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"mb-0\",\n    children: [\"typing\", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"animate-typing\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dot mx-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dot me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n};\n\n_c6 = Typing;\n\nconst Message = _ref6 => {\n  _s2();\n\n  let {\n    message,\n    chatUserDetails,\n    onDelete,\n    onSetReplyData,\n    isFromMe,\n    onOpenForward,\n    isChannel,\n    onDeleteImage\n  } = _ref6;\n  const {\n    userProfile\n  } = useProfile();\n  const hasImages = message.image && message.image.length;\n  const hasAttachments = message.attachments && message.attachments.length;\n  const hasText = message.text;\n  const isTyping = false;\n  const chatUserFullName = chatUserDetails.firstName ? `${chatUserDetails.firstName} ${chatUserDetails.lastName}` : \"-\";\n  const myProfile = userProfile.profileImage ? userProfile.profileImage : imagePlaceholder;\n  const channeluserProfile = message.meta.userData && message.meta.userData.profileImage ? message.meta.userData.profileImage : imagePlaceholder;\n  const chatUserprofile = chatUserDetails.profileImage ? chatUserDetails.profileImage : imagePlaceholder;\n  const profile = isChannel ? channeluserProfile : chatUserprofile;\n  const date = formateDate(message.time, \"hh:mmaaa\");\n  const isSent = message.meta.sent;\n  const isReceived = message.meta.received;\n  const isRead = message.meta.read;\n  const isForwarded = message.meta.isForwarded;\n  const channdelSenderFullname = message.meta.userData ? `${message.meta.userData.firstName} ${message.meta.userData.lastName}` : \"-\";\n  const fullName = isChannel ? channdelSenderFullname : chatUserFullName;\n\n  const onDeleteMessage = () => {\n    onDelete(message.mId);\n  };\n\n  const onClickReply = () => {\n    onSetReplyData(message);\n  };\n\n  const isRepliedMessage = message.replyOf;\n\n  const onForwardMessage = () => {\n    onOpenForward(message);\n  };\n\n  const onDeleteImg = imageId => {\n    onDeleteImage(message.mId, imageId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: classnames(\"chat-list\", {\n      right: isFromMe\n    }, {\n      reply: isRepliedMessage\n    }),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-avatar\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: isFromMe ? myProfile : profile,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-chat-content\",\n        children: [hasImages && message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ctext-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ctext-wrap-content\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0 ctext-content\",\n              children: message.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), isForwarded && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classnames(\"me-1\", \"text-muted\", \"font-size-13\", \"mb-1\", \"d-block\"),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: classnames(\"ri\", \"ri-share-forward-line\", \"align-middle\", \"me-1\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), \"Forwarded\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ctext-wrap\",\n          children: hasImages ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(Images, {\n              images: message.image,\n              onDeleteImg: onDeleteImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ctext-wrap-content\",\n              children: [isRepliedMessage && /*#__PURE__*/_jsxDEV(RepliedMessage, {\n                fullName: fullName,\n                message: message,\n                isFromMe: isFromMe\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), hasText && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0 ctext-content\",\n                children: message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this), isTyping && /*#__PURE__*/_jsxDEV(Typing, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 32\n              }, this), hasAttachments && /*#__PURE__*/_jsxDEV(Attachments, {\n                attachments: message.attachments\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              onForward: onForwardMessage,\n              onDelete: onDeleteMessage,\n              onReply: onClickReply\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"conversation-name\",\n          children: isFromMe ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: classnames(\"me-1\", {\n                \"text-success\": isRead\n              }, {\n                \"text-muted\": (isSent || isReceived) && !isRead\n              }),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: classnames(\"bx\", {\n                  \"bx-check-double\": isRead || isReceived\n                }, {\n                  \"bx-check\": isSent\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: classnames(\"text-muted\", \"mb-0\", \"me-2\"),\n              children: date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), \"You\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [fullName, /*#__PURE__*/_jsxDEV(\"small\", {\n              className: classnames(\"text-muted\", \"mb-0\", \"ms-2\"),\n              children: date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 334,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Message, \"wAtm7+MsicHrLOJHX62AtxC9+Qw=\", false, function () {\n  return [useProfile];\n});\n\n_c7 = Message;\nexport default Message;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Menu\");\n$RefreshReg$(_c2, \"ImageMoreMenu\");\n$RefreshReg$(_c3, \"Image\");\n$RefreshReg$(_c4, \"Images\");\n$RefreshReg$(_c5, \"Attachments\");\n$RefreshReg$(_c6, \"Typing\");\n$RefreshReg$(_c7, \"Message\");","map":{"version":3,"sources":["/Users/huy8bit/Desktop/DRIVE/JOB/webchatFE/src/pages/Dashboard/ConversationUser/Message.tsx"],"names":["React","useState","DropdownToggle","DropdownMenu","DropdownItem","UncontrolledDropdown","classnames","Link","LightBox","imagePlaceholder","useProfile","formateDate","RepliedMessage","Menu","onDelete","onReply","onForward","ImageMoreMenu","Image","image","onImageClick","index","onDeleteImg","id","downloadLink","Images","images","isOpen","setIsOpen","selected","setSelected","onClose","map","key","Attachments","attachments","attachment","name","desc","Typing","Message","message","chatUserDetails","onSetReplyData","isFromMe","onOpenForward","isChannel","onDeleteImage","userProfile","hasImages","length","hasAttachments","hasText","text","isTyping","chatUserFullName","firstName","lastName","myProfile","profileImage","channeluserProfile","meta","userData","chatUserprofile","profile","date","time","isSent","sent","isReceived","received","isRead","read","isForwarded","channdelSenderFullname","fullName","onDeleteMessage","mId","onClickReply","isRepliedMessage","replyOf","onForwardMessage","imageId","right","reply"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  UncontrolledDropdown,\n} from \"reactstrap\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\n\n// components\nimport LightBox from \"../../../components/LightBox\";\n\n//images\nimport imagePlaceholder from \"../../../assets/images/users/profile-placeholder.png\";\n\n// interface\nimport {\n  MessagesTypes,\n  ImageTypes,\n  AttachmentTypes,\n} from \"../../../data/messages\";\n\n// hooks\nimport { useProfile } from \"../../../hooks\";\n\n// utils\nimport { formateDate } from \"../../../utils\";\nimport RepliedMessage from \"./RepliedMessage\";\n\ninterface MenuProps {\n  onDelete: () => any;\n  onReply: () => any;\n  onForward: () => void;\n}\n\nconst Menu = ({ onDelete, onReply, onForward }: MenuProps) => {\n  return (\n    <UncontrolledDropdown className=\"align-self-start message-box-drop\">\n      <DropdownToggle className=\"btn btn-toggle\" role=\"button\" tag={\"a\"}>\n        <i className=\"ri-more-2-fill\"></i>\n      </DropdownToggle>\n      <DropdownMenu>\n        <DropdownItem\n          className=\"d-flex align-items-center justify-content-between\"\n          to=\"#\"\n          onClick={onReply}\n        >\n          Reply <i className=\"bx bx-share ms-2 text-muted\"></i>\n        </DropdownItem>\n        <DropdownItem\n          className=\"d-flex align-items-center justify-content-between\"\n          to=\"#\"\n          onClick={onForward}\n        >\n          Forward <i className=\"bx bx-share-alt ms-2 text-muted\"></i>\n        </DropdownItem>\n        <DropdownItem\n          className=\"d-flex align-items-center justify-content-between\"\n          to=\"#\"\n        >\n          Copy <i className=\"bx bx-copy text-muted ms-2\"></i>\n        </DropdownItem>\n        <DropdownItem\n          className=\"d-flex align-items-center justify-content-between\"\n          to=\"#\"\n        >\n          Bookmark <i className=\"bx bx-bookmarks text-muted ms-2\"></i>\n        </DropdownItem>\n        <DropdownItem\n          className=\"d-flex align-items-center justify-content-between\"\n          to=\"#\"\n        >\n          Mark as Unread <i className=\"bx bx-message-error text-muted ms-2\"></i>\n        </DropdownItem>\n        <DropdownItem\n          className=\"d-flex align-items-center justify-content-between delete-item\"\n          onClick={onDelete}\n        >\n          Delete <i className=\"bx bx-trash text-muted ms-2\"></i>\n        </DropdownItem>\n      </DropdownMenu>\n    </UncontrolledDropdown>\n  );\n};\ninterface ImageMoreMenuProps {\n  onDelete: () => void;\n}\nconst ImageMoreMenu = ({ onDelete }: ImageMoreMenuProps) => {\n  return (\n    <div className=\"message-img-link\">\n      <ul className=\"list-inline mb-0\">\n        <UncontrolledDropdown\n          tag=\"li\"\n          color=\"none\"\n          className=\"list-inline-item dropdown\"\n        >\n          <DropdownToggle tag=\"a\" role=\"button\" className=\"btn btn-toggle\">\n            <i className=\"bx bx-dots-horizontal-rounded\"></i>\n          </DropdownToggle>\n          <DropdownMenu>\n            <DropdownItem\n              className=\" d-flex align-items-center justify-content-between\"\n              to=\"#\"\n            >\n              Download <i className=\"bx bx-download ms-2 text-muted\"></i>\n            </DropdownItem>\n            <DropdownItem\n              className=\" d-flex align-items-center justify-content-between\"\n              to=\"#\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\".replyCollapse\"\n            >\n              Reply <i className=\"bx bx-share ms-2 text-muted\"></i>\n            </DropdownItem>\n            <DropdownItem\n              className=\" d-flex align-items-center justify-content-between\"\n              to=\"#\"\n              data-bs-toggle=\"modal\"\n              data-bs-target=\".forwardModal\"\n            >\n              Forward <i className=\"bx bx-share-alt ms-2 text-muted\"></i>\n            </DropdownItem>\n            <DropdownItem\n              className=\" d-flex align-items-center justify-content-between\"\n              to=\"#\"\n            >\n              Bookmark <i className=\"bx bx-bookmarks text-muted ms-2\"></i>\n            </DropdownItem>\n            <DropdownItem\n              className=\" d-flex align-items-center justify-content-between delete-item\"\n              to=\"#\"\n              onClick={onDelete}\n            >\n              Delete <i className=\"bx bx-trash ms-2 text-muted\"></i>\n            </DropdownItem>\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </ul>\n    </div>\n  );\n};\n\ninterface ImageProps {\n  image: ImageTypes;\n  onImageClick: (id: number) => void;\n  index: number;\n  onDeleteImg: (imageId: string | number) => void;\n}\nconst Image = ({ image, onImageClick, index, onDeleteImg }: ImageProps) => {\n  const onDelete = () => {\n    onDeleteImg(image.id);\n  };\n  return (\n    <div className=\"message-img-list\">\n      <div>\n        <Link\n          className=\"popup-img d-inline-block\"\n          to={\"#\"}\n          onClick={() => onImageClick(index)}\n        >\n          <img src={image.downloadLink} alt=\"\" className=\"rounded border\" />\n        </Link>\n      </div>\n      <ImageMoreMenu onDelete={onDelete} />\n    </div>\n  );\n};\ninterface ImagesProps {\n  images: ImageTypes[];\n  onDeleteImg: (imageId: string | number) => void;\n}\nconst Images = ({ images, onDeleteImg }: ImagesProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selected, setSelected] = useState(0);\n  const onImageClick = (id: number) => {\n    setSelected(id);\n    setIsOpen(true);\n  };\n  const onClose = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <>\n      <div className=\"message-img mb-0\">\n        {(images || []).map((image: ImageTypes, key: number) => (\n          <Image\n            image={image}\n            key={key}\n            index={key}\n            onImageClick={onImageClick}\n            onDeleteImg={onDeleteImg}\n          />\n        ))}\n      </div>\n      {isOpen && (\n        <LightBox\n          isOpen={isOpen}\n          images={images}\n          onClose={onClose}\n          defaultIdx={selected}\n        />\n      )}\n    </>\n  );\n};\n\ninterface AttachmentsProps {\n  attachments: AttachmentTypes[] | undefined;\n}\nconst Attachments = ({ attachments }: AttachmentsProps) => {\n  return (\n    <>\n      {(attachments || []).map((attachment: AttachmentTypes, key: number) => (\n        <div\n          key={key}\n          className={classnames(\"p-3\", \"border-primary\", \"border rounded-3\", {\n            \"mt-2\": key !== 0,\n          })}\n        >\n          <div className=\"d-flex align-items-center attached-file\">\n            <div className=\"flex-shrink-0 avatar-sm me-3 ms-0 attached-file-avatar\">\n              <div className=\"avatar-title bg-soft-primary text-primary rounded-circle font-size-20\">\n                <i className=\"ri-attachment-2\"></i>\n              </div>\n            </div>\n            <div className=\"flex-grow-1 overflow-hidden\">\n              <div className=\"text-start\">\n                <h5 className=\"font-size-14 mb-1\">{attachment.name}</h5>\n                <p className=\"text-muted text-truncate font-size-13 mb-0\">\n                  {attachment.desc}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex-shrink-0 ms-4\">\n              <div className=\"d-flex gap-2 font-size-20 d-flex align-items-start\">\n                <div>\n                  <Link\n                    to={attachment.downloadLink ? attachment.downloadLink : \"#\"}\n                    className=\"text-muted\"\n                  >\n                    <i className=\"bx bxs-download\"></i>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n};\n\nconst Typing = () => {\n  return (\n    <p className=\"mb-0\">\n      typing\n      <span className=\"animate-typing\">\n        <span className=\"dot mx-1\"></span>\n        <span className=\"dot me-1\"></span>\n        <span className=\"dot\"></span>\n      </span>\n    </p>\n  );\n};\ninterface MessageProps {\n  message: MessagesTypes;\n  chatUserDetails: any;\n  onDelete: (messageId: string | number) => any;\n  onSetReplyData: (reply: null | MessagesTypes | undefined) => void;\n  isFromMe: boolean;\n  onOpenForward: (message: MessagesTypes) => void;\n  isChannel: boolean;\n  onDeleteImage: (messageId: string | number, imageId: string | number) => void;\n}\nconst Message = ({\n  message,\n  chatUserDetails,\n  onDelete,\n  onSetReplyData,\n  isFromMe,\n  onOpenForward,\n  isChannel,\n  onDeleteImage,\n}: MessageProps) => {\n  const { userProfile } = useProfile();\n  const hasImages = message.image && message.image.length;\n  const hasAttachments = message.attachments && message.attachments.length;\n  const hasText = message.text;\n  const isTyping = false;\n\n  const chatUserFullName = chatUserDetails.firstName\n    ? `${chatUserDetails.firstName} ${chatUserDetails.lastName}`\n    : \"-\";\n\n  const myProfile = userProfile.profileImage\n    ? userProfile.profileImage\n    : imagePlaceholder;\n  const channeluserProfile =\n    message.meta.userData && message.meta.userData.profileImage\n      ? message.meta.userData.profileImage\n      : imagePlaceholder;\n  const chatUserprofile = chatUserDetails.profileImage\n    ? chatUserDetails.profileImage\n    : imagePlaceholder;\n  const profile = isChannel ? channeluserProfile : chatUserprofile;\n  const date = formateDate(message.time, \"hh:mmaaa\");\n  const isSent = message.meta.sent;\n  const isReceived = message.meta.received;\n  const isRead = message.meta.read;\n  const isForwarded = message.meta.isForwarded;\n  const channdelSenderFullname = message.meta.userData\n    ? `${message.meta.userData.firstName} ${message.meta.userData.lastName}`\n    : \"-\";\n  const fullName = isChannel ? channdelSenderFullname : chatUserFullName;\n  const onDeleteMessage = () => {\n    onDelete(message.mId);\n  };\n\n  const onClickReply = () => {\n    onSetReplyData(message);\n  };\n  const isRepliedMessage = message.replyOf;\n\n  const onForwardMessage = () => {\n    onOpenForward(message);\n  };\n\n  const onDeleteImg = (imageId: number | string) => {\n    onDeleteImage(message.mId, imageId);\n  };\n  return (\n    <li\n      className={classnames(\n        \"chat-list\",\n        { right: isFromMe },\n        { reply: isRepliedMessage }\n      )}\n    >\n      <div className=\"conversation-list\">\n        <div className=\"chat-avatar\">\n          <img src={isFromMe ? myProfile : profile} alt=\"\" />\n        </div>\n\n        <div className=\"user-chat-content\">\n          {hasImages && message.text && (\n            <div className=\"ctext-wrap\">\n              <div className=\"ctext-wrap-content\">\n                <p className=\"mb-0 ctext-content\">{message.text}</p>\n              </div>\n            </div>\n          )}\n          {isForwarded && (\n            <span\n              className={classnames(\n                \"me-1\",\n                \"text-muted\",\n                \"font-size-13\",\n                \"mb-1\",\n                \"d-block\"\n              )}\n            >\n              <i\n                className={classnames(\n                  \"ri\",\n                  \"ri-share-forward-line\",\n                  \"align-middle\",\n                  \"me-1\"\n                )}\n              ></i>\n              Forwarded\n            </span>\n          )}\n\n          <div className=\"ctext-wrap\">\n            {/* text message end */}\n\n            {/* image message start */}\n            {hasImages ? (\n              <>\n                <Images images={message.image!} onDeleteImg={onDeleteImg} />\n              </>\n            ) : (\n              <>\n                <div className=\"ctext-wrap-content\">\n                  {isRepliedMessage && (\n                    <RepliedMessage\n                      fullName={fullName}\n                      message={message}\n                      isFromMe={isFromMe}\n                    />\n                  )}\n\n                  {hasText && (\n                    <p className=\"mb-0 ctext-content\">{message.text}</p>\n                  )}\n\n                  {/* typing start */}\n                  {isTyping && <Typing />}\n\n                  {/* typing end */}\n                  {/* files message start */}\n                  {hasAttachments && (\n                    <Attachments attachments={message.attachments} />\n                  )}\n                  {/* files message end */}\n                </div>\n                <Menu\n                  onForward={onForwardMessage}\n                  onDelete={onDeleteMessage}\n                  onReply={onClickReply}\n                />\n              </>\n            )}\n\n            {/* image message end */}\n          </div>\n          <div className=\"conversation-name\">\n            {isFromMe ? (\n              <>\n                <span\n                  className={classnames(\n                    \"me-1\",\n                    { \"text-success\": isRead },\n                    { \"text-muted\": (isSent || isReceived) && !isRead }\n                  )}\n                >\n                  <i\n                    className={classnames(\n                      \"bx\",\n                      { \"bx-check-double\": isRead || isReceived },\n                      { \"bx-check\": isSent }\n                    )}\n                  ></i>\n                </span>\n                <small className={classnames(\"text-muted\", \"mb-0\", \"me-2\")}>\n                  {date}\n                </small>\n                You\n              </>\n            ) : (\n              <>\n                {fullName}\n                <small className={classnames(\"text-muted\", \"mb-0\", \"ms-2\")}>\n                  {date}\n                </small>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Message;\n"]},"metadata":{},"sourceType":"module"}