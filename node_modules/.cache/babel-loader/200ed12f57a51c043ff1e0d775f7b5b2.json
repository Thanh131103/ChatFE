{"ast":null,"code":"var _jsxFileName = \"/Users/huy8bit/Desktop/DRIVE/JOB/webchatFE/src/pages/Dashboard/ConversationUser/ChatInputSection/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Alert, Form } from \"reactstrap\"; // components\n\nimport StartButtons from \"./StartButtons\";\nimport InputSection from \"./InputSection\";\nimport EndButtons from \"./EndButtons\";\nimport MoreMenu from \"./MoreMenu\";\nimport Reply from \"./Reply\"; // interface\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = _ref => {\n  _s();\n\n  let {\n    onSend,\n    replyData,\n    onSetReplyData,\n    chatUserDetails\n  } = _ref;\n\n  /*\n  more menu collapse\n  */\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onToggle = () => {\n    setIsOpen(!isOpen);\n  };\n  /*\n  disable send button\n  */\n\n\n  const [disabled, setDisabled] = useState(true);\n  /*\n  input text\n  */\n\n  const [text, setText] = useState(null);\n\n  const onChangeText = value => {\n    setText(value);\n  };\n  /*\n  images\n  */\n\n\n  const [images, setImages] = useState();\n\n  const onSelectImages = images => {\n    setImages(images);\n  };\n  /*\n  files\n  */\n\n\n  const [files, setFiles] = useState();\n\n  const onSelectFiles = files => {\n    setFiles(files);\n  };\n\n  useEffect(() => {\n    if (text || images || files) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  }, [text, images, files]);\n\n  const onSubmit = () => {\n    let data = {};\n\n    if (text) {\n      data[\"text\"] = text;\n    }\n\n    if (images && images.length) {\n      const imgs = (images || []).map((i, key) => {\n        const src = URL.createObjectURL(i);\n        return {\n          id: key + 1,\n          downloadLink: src\n        };\n      });\n      data[\"image\"] = imgs;\n    }\n\n    if (files && files.length) {\n      const fs = (files || []).map((f, key) => {\n        const src = URL.createObjectURL(f);\n        return {\n          id: key + 1,\n          name: f.name,\n          downloadLink: src,\n          desc: f.size\n        };\n      });\n      data[\"attachments\"] = fs;\n    }\n\n    setText(\"\");\n    setImages(null);\n    setFiles(null);\n    onSend(data);\n  };\n\n  const onClearMedia = () => {\n    setImages(null);\n    setFiles(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-input-section p-3 p-lg-4\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      id: \"chatinput-form\",\n      onSubmit: e => {\n        e.preventDefault();\n        onSubmit();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-0 align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-auto\",\n          children: /*#__PURE__*/_jsxDEV(StartButtons, {\n            onToggle: onToggle,\n            text: text,\n            onChange: onChangeText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(InputSection, {\n            value: text,\n            onChange: onChangeText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-auto\",\n          children: /*#__PURE__*/_jsxDEV(EndButtons, {\n            onSubmit: onSubmit,\n            disabled: disabled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), images && images.length || files && files.length ? /*#__PURE__*/_jsxDEV(Alert, {\n      isOpen: true,\n      toggle: onClearMedia,\n      color: \"secondary\",\n      className: \"alert-dismiss-custom  rounded-pill font-size-12 mb-1 selected-media\",\n      closeClassName: \"selected-media-close\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"me-2 mb-0\",\n        children: [images && !files && ` You have selected ${images.length} images`, files && !images && ` You have selected ${files.length} files`, files && images && ` You have selected ${files.length} files & ${images.length} images.`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(MoreMenu, {\n      isOpen: isOpen,\n      onSelectImages: onSelectImages,\n      onSelectFiles: onSelectFiles,\n      onToggle: onToggle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Reply, {\n      reply: replyData,\n      onSetReplyData: onSetReplyData,\n      chatUserDetails: chatUserDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Index, \"Xf02sQebeIuRSgbQHZ2h6newKKo=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/huy8bit/Desktop/DRIVE/JOB/webchatFE/src/pages/Dashboard/ConversationUser/ChatInputSection/index.tsx"],"names":["React","useEffect","useState","Alert","Form","StartButtons","InputSection","EndButtons","MoreMenu","Reply","Index","onSend","replyData","onSetReplyData","chatUserDetails","isOpen","setIsOpen","onToggle","disabled","setDisabled","text","setText","onChangeText","value","images","setImages","onSelectImages","files","setFiles","onSelectFiles","onSubmit","data","length","imgs","map","i","key","src","URL","createObjectURL","id","downloadLink","fs","f","name","desc","size","onClearMedia","e","preventDefault"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,KAAT,EAAgBC,IAAhB,QAA4B,YAA5B,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;;;AASA,MAAMC,KAAK,GAAG,QAKI;AAAA;;AAAA,MALH;AACbC,IAAAA,MADa;AAEbC,IAAAA,SAFa;AAGbC,IAAAA,cAHa;AAIbC,IAAAA;AAJa,GAKG;;AAChB;AACF;AACA;AACE,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAU,KAAV,CAApC;;AACA,QAAMe,QAAQ,GAAG,MAAM;AACrBD,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACD,GAFD;AAIA;AACF;AACA;;;AACE,QAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAU,IAAV,CAAxC;AAEA;AACF;AACA;;AACE,QAAM,CAACkB,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAgB,IAAhB,CAAhC;;AACA,QAAMoB,YAAY,GAAIC,KAAD,IAAmB;AACtCF,IAAAA,OAAO,CAACE,KAAD,CAAP;AACD,GAFD;AAIA;AACF;AACA;;;AACE,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBvB,QAAQ,EAApC;;AACA,QAAMwB,cAAc,GAAIF,MAAD,IAAwB;AAC7CC,IAAAA,SAAS,CAACD,MAAD,CAAT;AACD,GAFD;AAIA;AACF;AACA;;;AACE,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoB1B,QAAQ,EAAlC;;AACA,QAAM2B,aAAa,GAAIF,KAAD,IAAuB;AAC3CC,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,GAFD;;AAGA1B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAImB,IAAI,IAAII,MAAR,IAAkBG,KAAtB,EAA6B;AAC3BR,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD,KAFD,MAEO;AACLA,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD;AACF,GANQ,EAMN,CAACC,IAAD,EAAOI,MAAP,EAAeG,KAAf,CANM,CAAT;;AAQA,QAAMG,QAAQ,GAAG,MAAM;AACrB,QAAIC,IAAS,GAAG,EAAhB;;AACA,QAAIX,IAAJ,EAAU;AACRW,MAAAA,IAAI,CAAC,MAAD,CAAJ,GAAeX,IAAf;AACD;;AACD,QAAII,MAAM,IAAIA,MAAM,CAACQ,MAArB,EAA6B;AAC3B,YAAMC,IAAI,GAAG,CAACT,MAAM,IAAI,EAAX,EAAeU,GAAf,CAAmB,CAACC,CAAD,EAASC,GAAT,KAAyB;AACvD,cAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBJ,CAApB,CAAZ;AACA,eAAO;AACLK,UAAAA,EAAE,EAAEJ,GAAG,GAAG,CADL;AAELK,UAAAA,YAAY,EAAEJ;AAFT,SAAP;AAID,OANY,CAAb;AAOAN,MAAAA,IAAI,CAAC,OAAD,CAAJ,GAAgBE,IAAhB;AACD;;AAED,QAAIN,KAAK,IAAIA,KAAK,CAACK,MAAnB,EAA2B;AACzB,YAAMU,EAAE,GAAG,CAACf,KAAK,IAAI,EAAV,EAAcO,GAAd,CAAkB,CAACS,CAAD,EAASP,GAAT,KAAyB;AACpD,cAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBI,CAApB,CAAZ;AACA,eAAO;AACLH,UAAAA,EAAE,EAAEJ,GAAG,GAAG,CADL;AAELQ,UAAAA,IAAI,EAAED,CAAC,CAACC,IAFH;AAGLH,UAAAA,YAAY,EAAEJ,GAHT;AAILQ,UAAAA,IAAI,EAAEF,CAAC,CAACG;AAJH,SAAP;AAMD,OARU,CAAX;AASAf,MAAAA,IAAI,CAAC,aAAD,CAAJ,GAAsBW,EAAtB;AACD;;AAEDrB,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAI,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAG,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAjB,IAAAA,MAAM,CAACoB,IAAD,CAAN;AACD,GAjCD;;AAmCA,QAAMgB,YAAY,GAAG,MAAM;AACzBtB,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAG,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAHD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA,4BACE,QAAC,IAAD;AACE,MAAA,EAAE,EAAC,gBADL;AAEE,MAAA,QAAQ,EAAGoB,CAAD,IAAY;AACpBA,QAAAA,CAAC,CAACC,cAAF;AACAnB,QAAAA,QAAQ;AACT,OALH;AAAA,6BAOE;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,iCACE,QAAC,YAAD;AACE,YAAA,QAAQ,EAAEb,QADZ;AAEE,YAAA,IAAI,EAAEG,IAFR;AAGE,YAAA,QAAQ,EAAEE;AAHZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACE,QAAC,YAAD;AAAc,YAAA,KAAK,EAAEF,IAArB;AAA2B,YAAA,QAAQ,EAAEE;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF,eAWE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,iCACE,QAAC,UAAD;AAAY,YAAA,QAAQ,EAAEQ,QAAtB;AAAgC,YAAA,QAAQ,EAAEZ;AAA1C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,YADF,EAyBIM,MAAM,IAAIA,MAAM,CAACQ,MAAlB,IAA8BL,KAAK,IAAIA,KAAK,CAACK,MAA7C,gBACC,QAAC,KAAD;AACE,MAAA,MAAM,EAAE,IADV;AAEE,MAAA,MAAM,EAAEe,YAFV;AAGE,MAAA,KAAK,EAAC,WAHR;AAIE,MAAA,SAAS,EAAC,qEAJZ;AAME,MAAA,cAAc,EAAC,sBANjB;AAAA,6BAQE;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA,mBACGvB,MAAM,IAAI,CAACG,KAAX,IAAqB,sBAAqBH,MAAM,CAACQ,MAAO,SAD3D,EAEGL,KAAK,IAAI,CAACH,MAAV,IAAqB,sBAAqBG,KAAK,CAACK,MAAO,QAF1D,EAGGL,KAAK,IACJH,MADD,IAEE,sBAAqBG,KAAK,CAACK,MAAO,YAAWR,MAAM,CAACQ,MAAO,UALhE;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,YADD,GAiBG,IA1CN,eA4CE,QAAC,QAAD;AACE,MAAA,MAAM,EAAEjB,MADV;AAEE,MAAA,cAAc,EAAEW,cAFlB;AAGE,MAAA,aAAa,EAAEG,aAHjB;AAIE,MAAA,QAAQ,EAAEZ;AAJZ;AAAA;AAAA;AAAA;AAAA,YA5CF,eAmDE,QAAC,KAAD;AACE,MAAA,KAAK,EAAEL,SADT;AAEE,MAAA,cAAc,EAAEC,cAFlB;AAGE,MAAA,eAAe,EAAEC;AAHnB;AAAA;AAAA;AAAA;AAAA,YAnDF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA2DD,CApJD;;GAAMJ,K;;KAAAA,K;AAsJN,eAAeA,KAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Alert, Form } from \"reactstrap\";\n\n// components\nimport StartButtons from \"./StartButtons\";\nimport InputSection from \"./InputSection\";\nimport EndButtons from \"./EndButtons\";\nimport MoreMenu from \"./MoreMenu\";\nimport Reply from \"./Reply\";\n\n// interface\nimport { MessagesTypes } from \"../../../../data/messages\";\n\ninterface IndexProps {\n  onSend: (data: any) => void;\n  replyData: null | MessagesTypes | undefined;\n  onSetReplyData: (reply: null | MessagesTypes | undefined) => void;\n  chatUserDetails: any;\n}\nconst Index = ({\n  onSend,\n  replyData,\n  onSetReplyData,\n  chatUserDetails,\n}: IndexProps) => {\n  /*\n  more menu collapse\n  */\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const onToggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  /*\n  disable send button\n  */\n  const [disabled, setDisabled] = useState<boolean>(true);\n\n  /*\n  input text\n  */\n  const [text, setText] = useState<null | string>(null);\n  const onChangeText = (value: string) => {\n    setText(value);\n  };\n\n  /*\n  images\n  */\n  const [images, setImages] = useState<Array<any> | null | undefined>();\n  const onSelectImages = (images: Array<any>) => {\n    setImages(images);\n  };\n\n  /*\n  files\n  */\n  const [files, setFiles] = useState<Array<any> | null | undefined>();\n  const onSelectFiles = (files: Array<any>) => {\n    setFiles(files);\n  };\n  useEffect(() => {\n    if (text || images || files) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  }, [text, images, files]);\n\n  const onSubmit = () => {\n    let data: any = {};\n    if (text) {\n      data[\"text\"] = text;\n    }\n    if (images && images.length) {\n      const imgs = (images || []).map((i: any, key: number) => {\n        const src = URL.createObjectURL(i);\n        return {\n          id: key + 1,\n          downloadLink: src,\n        };\n      });\n      data[\"image\"] = imgs;\n    }\n\n    if (files && files.length) {\n      const fs = (files || []).map((f: any, key: number) => {\n        const src = URL.createObjectURL(f);\n        return {\n          id: key + 1,\n          name: f.name,\n          downloadLink: src,\n          desc: f.size,\n        };\n      });\n      data[\"attachments\"] = fs;\n    }\n\n    setText(\"\");\n    setImages(null);\n    setFiles(null);\n    onSend(data);\n  };\n\n  const onClearMedia = () => {\n    setImages(null);\n    setFiles(null);\n  };\n  return (\n    <div className=\"chat-input-section p-3 p-lg-4\">\n      <Form\n        id=\"chatinput-form\"\n        onSubmit={(e: any) => {\n          e.preventDefault();\n          onSubmit();\n        }}\n      >\n        <div className=\"row g-0 align-items-center\">\n          <div className=\"col-auto\">\n            <StartButtons\n              onToggle={onToggle}\n              text={text}\n              onChange={onChangeText}\n            />\n          </div>\n          <div className=\"col\">\n            <InputSection value={text} onChange={onChangeText} />\n          </div>\n          <div className=\"col-auto\">\n            <EndButtons onSubmit={onSubmit} disabled={disabled} />\n          </div>\n        </div>\n      </Form>\n\n      {(images && images.length) || (files && files.length) ? (\n        <Alert\n          isOpen={true}\n          toggle={onClearMedia}\n          color=\"secondary\"\n          className=\"alert-dismiss-custom \n        rounded-pill font-size-12 mb-1 selected-media\"\n          closeClassName=\"selected-media-close\"\n        >\n          <p className=\"me-2 mb-0\">\n            {images && !files && ` You have selected ${images.length} images`}\n            {files && !images && ` You have selected ${files.length} files`}\n            {files &&\n              images &&\n              ` You have selected ${files.length} files & ${images.length} images.`}\n          </p>\n        </Alert>\n      ) : null}\n\n      <MoreMenu\n        isOpen={isOpen}\n        onSelectImages={onSelectImages}\n        onSelectFiles={onSelectFiles}\n        onToggle={onToggle}\n      />\n\n      <Reply\n        reply={replyData}\n        onSetReplyData={onSetReplyData}\n        chatUserDetails={chatUserDetails}\n      />\n    </div>\n  );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}