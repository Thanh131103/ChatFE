{"ast":null,"code":"var _jsxFileName = \"/Users/huy8bit/Desktop/DRIVE/JOB/webchatFE/src/pages/Authentication/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Alert, Row, Col, Form, Label, Button, UncontrolledTooltip } from \"reactstrap\"; //Social Media Imports\n\nimport { GoogleLogin } from \"react-google-login\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\"; // router\n\nimport { Link, Redirect, useHistory, useLocation } from \"react-router-dom\"; // validations\n\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { useForm } from \"react-hook-form\"; // config\n\nimport config from \"../../config\"; // hooks\n\nimport { useProfile, useRedux } from \"../../hooks/index\"; //actions\n\nimport { loginUser, socialLogin } from \"../../redux/actions\"; // components\n\nimport NonAuthLayoutWrapper from \"../../components/NonAutnLayoutWrapper\";\nimport AuthHeader from \"../../components/AuthHeader\";\nimport FormInput from \"../../components/FormInput\";\nimport Loader from \"../../components/Loader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  // global store\n  const {\n    dispatch,\n    useAppSelector\n  } = useRedux();\n  const {\n    isUserLogin,\n    error,\n    loginLoading,\n    isUserLogout\n  } = useAppSelector(state => ({\n    isUserLogin: state.Login.isUserLogin,\n    error: state.Login.error,\n    loginLoading: state.Login.loading,\n    isUserLogout: state.Login.isUserLogout\n  }));\n  const history = useHistory();\n  const location = useLocation();\n  const [redirectUrl, setRedirectUrl] = useState(\"/\");\n  useEffect(() => {\n    const url = location.state && location.state.from ? location.state.from.pathname : \"/\";\n    setRedirectUrl(url);\n  }, [location]);\n  useEffect(() => {\n    if (isUserLogin && !loginLoading && !isUserLogout) {\n      history.push(redirectUrl);\n    }\n  }, [isUserLogin, history, loginLoading, isUserLogout, redirectUrl]);\n  const resolver = yupResolver(yup.object().shape({\n    email: yup.string().required(\"Please Enter E-mail.\"),\n    password: yup.string().required(\"Please Enter Password.\")\n  }));\n  const defaultValues = {\n    email: \"admin@themesbrand.com\",\n    password: \"123456\"\n  };\n  const methods = useForm({\n    defaultValues,\n    resolver\n  });\n  const {\n    handleSubmit,\n    register,\n    control,\n    formState: {\n      errors\n    }\n  } = methods;\n\n  const onSubmitForm = values => {\n    dispatch(loginUser(values));\n  };\n\n  const {\n    userProfile,\n    loading\n  } = useProfile();\n\n  if (userProfile && !loading) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: redirectUrl\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 12\n    }, this);\n  }\n\n  const signIn = (res, type) => {\n    if (type === \"google\" && res) {\n      const postData = {\n        name: res.profileObj.name,\n        email: res.profileObj.email,\n        token: res.tokenObj.access_token,\n        idToken: res.tokenId\n      };\n      dispatch(socialLogin(postData, type));\n    } else if (type === \"facebook\" && res) {\n      const postData = {\n        name: res.name,\n        token: res.accessToken\n      };\n      dispatch(socialLogin(postData, type));\n    }\n  }; //handleFacebookLoginResponse\n\n\n  const facebookResponse = response => {\n    signIn(response, \"facebook\");\n  }; //handleGoogleLoginResponse\n\n\n  const googleResponse = response => {\n    signIn(response, \"google\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(NonAuthLayoutWrapper, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \" justify-content-center my-auto\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        sm: 8,\n        lg: 6,\n        xl: 5,\n        className: \"col-xxl-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-md-5 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(AuthHeader, {\n            title: \"Welcome Back !\",\n            subtitle: \"Sign in to continue to Doot.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            color: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit(onSubmitForm),\n            className: \"position-relative\",\n            children: [loginLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(FormInput, {\n                label: \"Username\",\n                type: \"text\",\n                name: \"email\",\n                register: register,\n                errors: errors,\n                control: control,\n                labelClassName: \"form-label\",\n                placeholder: \"Enter username\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(FormInput, {\n                label: \"Password\",\n                type: \"password\",\n                name: \"password\",\n                register: register,\n                errors: errors,\n                control: control,\n                labelClassName: \"form-label\",\n                className: \"form-control pe-5\",\n                placeholder: \"Enter Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check form-check-info font-size-16\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-check-input\",\n                type: \"checkbox\",\n                id: \"remember-check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Label, {\n                className: \"form-check-label font-size-14\",\n                htmlFor: \"remember-check\",\n                children: \"Remember me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                className: \"w-100\",\n                type: \"submit\",\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"signin-other-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-size-14 mb-4 title\",\n                  children: \"Sign in with\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(FacebookLogin, {\n                      appId: config.FACEBOOK.APP_ID,\n                      autoLoad: false,\n                      callback: facebookResponse,\n                      render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-light w-100\",\n                        id: \"facebook\",\n                        onClick: renderProps.onClick,\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"mdi mdi-facebook text-indigo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 213,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 207,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n                    placement: \"top\",\n                    target: \"facebook\",\n                    children: \"Facebook\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-light w-100\",\n                      id: \"twitter\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"mdi mdi-twitter text-info\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n                    placement: \"top\",\n                    target: \"twitter\",\n                    children: \"Twitter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n                      clientId: config.GOOGLE.CLIENT_ID ? config.GOOGLE.CLIENT_ID : \"\",\n                      render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-light w-100\",\n                        id: \"google\",\n                        onClick: renderProps.onClick,\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"mdi mdi-google text-danger\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 27\n                      }, this),\n                      onSuccess: googleResponse,\n                      onFailure: () => {}\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n                    placement: \"top\",\n                    target: \"google\",\n                    children: \"Google\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5 text-center text-muted\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Don't have an account ?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/auth-register\",\n                className: \"fw-medium text-decoration-underline\",\n                children: [\" \", \"Register\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"66XeQPD6Io3l4mo+if+wtRLUlVs=\", true, function () {\n  return [useRedux, useHistory, useLocation, useForm, useProfile];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/huy8bit/Desktop/DRIVE/JOB/webchatFE/src/pages/Authentication/Login.tsx"],"names":["React","useEffect","useState","Alert","Row","Col","Form","Label","Button","UncontrolledTooltip","GoogleLogin","FacebookLogin","Link","Redirect","useHistory","useLocation","yupResolver","yup","useForm","config","useProfile","useRedux","loginUser","socialLogin","NonAuthLayoutWrapper","AuthHeader","FormInput","Loader","Login","props","dispatch","useAppSelector","isUserLogin","error","loginLoading","isUserLogout","state","loading","history","location","redirectUrl","setRedirectUrl","url","from","pathname","push","resolver","object","shape","email","string","required","password","defaultValues","methods","handleSubmit","register","control","formState","errors","onSubmitForm","values","userProfile","signIn","res","type","postData","name","profileObj","token","tokenObj","access_token","idToken","tokenId","accessToken","facebookResponse","response","googleResponse","FACEBOOK","APP_ID","renderProps","onClick","GOOGLE","CLIENT_ID"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Alert,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Label,\r\n  Button,\r\n  UncontrolledTooltip,\r\n} from \"reactstrap\";\r\n\r\n//Social Media Imports\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\n// router\r\nimport { Link, Redirect, useHistory, useLocation } from \"react-router-dom\";\r\n\r\n// validations\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n// config\r\nimport config from \"../../config\";\r\n\r\n// hooks\r\nimport { useProfile, useRedux } from \"../../hooks/index\";\r\n\r\n//actions\r\nimport { loginUser, socialLogin } from \"../../redux/actions\";\r\n\r\n// components\r\nimport NonAuthLayoutWrapper from \"../../components/NonAutnLayoutWrapper\";\r\nimport AuthHeader from \"../../components/AuthHeader\";\r\nimport FormInput from \"../../components/FormInput\";\r\nimport Loader from \"../../components/Loader\";\r\n\r\ninterface LocationTypes {\r\n  from?: Location;\r\n}\r\ninterface LoginProps {}\r\nconst Login = (props: LoginProps) => {\r\n  // global store\r\n  const { dispatch, useAppSelector } = useRedux();\r\n\r\n  const { isUserLogin, error, loginLoading, isUserLogout } = useAppSelector(\r\n    state => ({\r\n      isUserLogin: state.Login.isUserLogin,\r\n      error: state.Login.error,\r\n      loginLoading: state.Login.loading,\r\n      isUserLogout: state.Login.isUserLogout,\r\n    })\r\n  );\r\n\r\n  const history: any = useHistory();\r\n  const location = useLocation<LocationTypes>();\r\n  const [redirectUrl, setRedirectUrl] = useState(\"/\");\r\n  useEffect(() => {\r\n    const url =\r\n      location.state && location.state.from\r\n        ? location.state.from.pathname\r\n        : \"/\";\r\n    setRedirectUrl(url);\r\n  }, [location]);\r\n  useEffect(() => {\r\n    if (isUserLogin && !loginLoading && !isUserLogout) {\r\n      history.push(redirectUrl);\r\n    }\r\n  }, [isUserLogin, history, loginLoading, isUserLogout, redirectUrl]);\r\n\r\n  const resolver = yupResolver(\r\n    yup.object().shape({\r\n      email: yup.string().required(\"Please Enter E-mail.\"),\r\n      password: yup.string().required(\"Please Enter Password.\"),\r\n    })\r\n  );\r\n\r\n  const defaultValues: any = {\r\n    email: \"admin@themesbrand.com\",\r\n    password: \"123456\",\r\n  };\r\n\r\n  const methods = useForm({ defaultValues, resolver });\r\n  const {\r\n    handleSubmit,\r\n    register,\r\n    control,\r\n    formState: { errors },\r\n  } = methods;\r\n\r\n  const onSubmitForm = (values: object) => {\r\n    dispatch(loginUser(values));\r\n  };\r\n\r\n  const { userProfile, loading } = useProfile();\r\n\r\n  if (userProfile && !loading) {\r\n    return <Redirect to={{ pathname: redirectUrl }} />;\r\n  }\r\n\r\n  const signIn = (res: any, type: \"google\" | \"facebook\") => {\r\n    if (type === \"google\" && res) {\r\n      const postData = {\r\n        name: res.profileObj.name,\r\n        email: res.profileObj.email,\r\n        token: res.tokenObj.access_token,\r\n        idToken: res.tokenId,\r\n      };\r\n      dispatch(socialLogin(postData, type));\r\n    } else if (type === \"facebook\" && res) {\r\n      const postData = {\r\n        name: res.name,\r\n        token: res.accessToken,\r\n      };\r\n      dispatch(socialLogin(postData, type));\r\n    }\r\n  };\r\n\r\n  //handleFacebookLoginResponse\r\n  const facebookResponse = (response: object) => {\r\n    signIn(response, \"facebook\");\r\n  };\r\n\r\n  //handleGoogleLoginResponse\r\n  const googleResponse = (response: object) => {\r\n    signIn(response, \"google\");\r\n  };\r\n\r\n  return (\r\n    <NonAuthLayoutWrapper>\r\n      <Row className=\" justify-content-center my-auto\">\r\n        <Col sm={8} lg={6} xl={5} className=\"col-xxl-4\">\r\n          <div className=\"py-md-5 py-4\">\r\n            <AuthHeader\r\n              title=\"Welcome Back !\"\r\n              subtitle=\"Sign in to continue to Doot.\"\r\n            />\r\n\r\n            {error && <Alert color=\"danger\">{error}</Alert>}\r\n\r\n            <Form\r\n              onSubmit={handleSubmit(onSubmitForm)}\r\n              className=\"position-relative\"\r\n            >\r\n              {loginLoading && <Loader />}\r\n              <div className=\"mb-3\">\r\n                <FormInput\r\n                  label=\"Username\"\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  register={register}\r\n                  errors={errors}\r\n                  control={control}\r\n                  labelClassName=\"form-label\"\r\n                  placeholder=\"Enter username\"\r\n                  className=\"form-control\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <FormInput\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  register={register}\r\n                  errors={errors}\r\n                  control={control}\r\n                  labelClassName=\"form-label\"\r\n                  className=\"form-control pe-5\"\r\n                  placeholder=\"Enter Password\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-check form-check-info font-size-16\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  id=\"remember-check\"\r\n                />\r\n                <Label\r\n                  className=\"form-check-label font-size-14\"\r\n                  htmlFor=\"remember-check\"\r\n                >\r\n                  Remember me\r\n                </Label>\r\n              </div>\r\n\r\n              <div className=\"text-center mt-4\">\r\n                <Button color=\"primary\" className=\"w-100\" type=\"submit\">\r\n                  Log In\r\n                </Button>\r\n              </div>\r\n\r\n              <div className=\"mt-4 text-center\">\r\n                <div className=\"signin-other-title\">\r\n                  <h5 className=\"font-size-14 mb-4 title\">Sign in with</h5>\r\n                </div>\r\n                <Row className=\"\">\r\n                  <div className=\"col-4\">\r\n                    <div>\r\n                      <FacebookLogin\r\n                        appId={config.FACEBOOK.APP_ID}\r\n                        autoLoad={false}\r\n                        callback={facebookResponse}\r\n                        render={(renderProps: any) => (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-light w-100\"\r\n                            id=\"facebook\"\r\n                            onClick={renderProps.onClick}\r\n                          >\r\n                            <i className=\"mdi mdi-facebook text-indigo\"></i>\r\n                          </button>\r\n                        )}\r\n                      />\r\n                    </div>\r\n                    <UncontrolledTooltip placement=\"top\" target=\"facebook\">\r\n                      Facebook\r\n                    </UncontrolledTooltip>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <div>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-light w-100\"\r\n                        id=\"twitter\"\r\n                      >\r\n                        <i className=\"mdi mdi-twitter text-info\"></i>\r\n                      </button>\r\n                    </div>\r\n                    <UncontrolledTooltip placement=\"top\" target=\"twitter\">\r\n                      Twitter\r\n                    </UncontrolledTooltip>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <div>\r\n                      <GoogleLogin\r\n                        clientId={\r\n                          config.GOOGLE.CLIENT_ID ? config.GOOGLE.CLIENT_ID : \"\"\r\n                        }\r\n                        render={renderProps => (\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-light w-100\"\r\n                            id=\"google\"\r\n                            onClick={renderProps.onClick}\r\n                          >\r\n                            <i className=\"mdi mdi-google text-danger\"></i>\r\n                          </button>\r\n                        )}\r\n                        onSuccess={googleResponse}\r\n                        onFailure={() => {}}\r\n                      />\r\n                    </div>\r\n                    <UncontrolledTooltip placement=\"top\" target=\"google\">\r\n                      Google\r\n                    </UncontrolledTooltip>\r\n                  </div>\r\n                </Row>\r\n              </div>\r\n            </Form>\r\n\r\n            <div className=\"mt-5 text-center text-muted\">\r\n              <p>\r\n                Don't have an account ?{\" \"}\r\n                <Link\r\n                  to=\"/auth-register\"\r\n                  className=\"fw-medium text-decoration-underline\"\r\n                >\r\n                  {\" \"}\r\n                  Register\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </NonAuthLayoutWrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}